---
- tag: x-with
  arguments:
  - default: $
    name: source
  description: |
    Include content block if variable is truthy. Sets the variable of children to the target if it is supplied.

    x-with can be thought of as a shorthand for x-use together with x-if.

  example: |
    <x-json target="dog" >
      {
        "name": "Freddy"
      }
    </x-json>

    <x-with source="name" >
      <p>This will display the name : $ </p>
    </x-with>

    <x-with source="phone_number" >
      <p>This would not display anything</p>
    </x-with>

- tag: x-use
  arguments:
  - name: source
  description: Set the current var to be 'source' for all children.

- tag: x-if/x-unless
  arguments:
  - name: eq
    optional: true
  - name: lt
    optional: true
  - name: lte
    optional: true
  - name: gt
    optional: true
  - name: gte
    optional: true
  - default: $
    name: source
  description: Logic and stuff.

- tag: x-json
  arguments:
  - name: target
  - name: src
    optional: true
  description: Create a new variable at target from a json body or using the src argument

- tag: x-yaml
  arguments:
  - name: target
  - name: src
    optional: true
  description: |
    Create a new variable at target from a yaml document specified by the src argument.

    Cannot use a body due to confusing indenting.

- tag: x-sql
  arguments:
  - name: target
  - name: single-row
    optional: true
  description: Execute sql query and set a new variable at target

- tag: x-sql-action
  form-ony: true
  arguments:
  - name: target
  - name: single-row
    optional: true
  description: Execute sql query inside a form action. When rendering the page this
    statement is skipped.

- tag: x-nodejs
  arguments:
  - name: target
  description: Embed a nodejs function and set target to the return value

- tag: x-dump
  description: Dump the current variable as json inside a pre tag

- tag: x-hint-port
  arguments:
  - default: "3000"
    name: port
  description: A hint to the siskin engine to listen on this port

- tag: x-page
  arguments:
  - name: path
  description: Define a page within the document.

- tag: x-expose
  arguments:
  - name: path
  - name: content-type
    optional: true
  - name: src
  description: Expose a file specified at (src) at http (path)
  special: true

- description: The default content to show when no other page has been matched.
  tag: x-default-page

- tag: x-setcookie-action
  form-ony: true
  arguments:
  - name: name
  - name: value
  description: Set a response cookie inside an action.

- tag: x-include
  description: Include an external siskin-xml file. This tag is processed before anything
    else.
  pre-process: true

- tag: form
  arguments:
  - name: x-name
    description: "The endpoint name to create for this action"
  - name: x-ajax
    description: "Strip out the method and action for this form"
  description: |
    Although form is an inbuilt tag we do alter it's behaviour. Defining a form with
    method="POST" and an x-name attribute will create an action endpoint.
