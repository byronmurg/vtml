<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="color-scheme" content="light dark" />

		<title>VTML</title>

		<!-- HTMX for Ajax -->
		<script src="https://unpkg.com/htmx.org@2.0.2"></script>

		<!-- Beer JS material design -->
		<link href="https://cdn.jsdelivr.net/npm/beercss@3.6.13/dist/cdn/beer.min.css" rel="stylesheet">
		<script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.6.13/dist/cdn/beer.min.js"></script>
		<script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>

		<!-- Code highlighting -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

		<script>
			// Run code highlighting whenever content is added to DOM.
			htmx.onLoad(function(content) {
				hljs.highlightAll();
			});
		</script>

		<style>
			:root, body.dark {
			--primary:#9ecaff;
			--on-primary:#003258;
			--primary-container:#00497d;
			--on-primary-container:#d1e4ff;
			--secondary:#bbc7db;
			--on-secondary:#253140;
			--secondary-container:#3b4858;
			--on-secondary-container:#d7e3f7;
			--tertiary:#d6bee4;
			--on-tertiary:#3b2948;
			--tertiary-container:#523f5f;
			--on-tertiary-container:#f2daff;
			--error:#ffb4ab;
			--on-error:#690005;
			--error-container:#93000a;
			--on-error-container:#ffb4ab;
			--background:#1a1c1e;
			--on-background:#e2e2e6;
			--surface:#121316;
			--on-surface:#e2e2e6;
			--surface-variant:#43474e;
			--on-surface-variant:#c3c7cf;
			--outline:#8d9199;
			--outline-variant:#43474e;
			--shadow:#000000;
			--scrim:#000000;
			--inverse-surface:#e2e2e6;
			--inverse-on-surface:#2f3033;
			--inverse-primary:#0061a4;
			--surface-dim:#121316;
			--surface-bright:#38393c;
			--surface-container-lowest:#0d0e11;
			--surface-container-low:#1a1c1e;
			--surface-container:#1e2022;
			--surface-container-high:#282a2d;
			--surface-container-highest:#333538;
			}

			.hljs-name {
				color: var(--primary);
			}

			.hljs-attr {
				color: var(--secondary);
			}

			.hljs-string {
				color: var(--tertiary);
			}

			.arg-table th, .arg-table td {
				width: 33%;
			}

			/*
			.link-selected {
				border-inline-start: .25rem solid var(--primary);
				padding-left: .4rem;
			}
			*/


			.link-selected {
				color: var(--primary);
			}

		</style>

	</head>
	<body hx-boost="true" >
		<header>
			<nav>
				<h5 class="max" >VTML</h5>
				<v-json target="tabs" >
					[
						{ "icon":"info", "match":"/tutorial", "link":"/tutorial/intro", "name":"Tutorial" },
						{ "icon":"design_services", "match":"/reference", "link":"/reference", "name":"Reference" }
					]
				</v-json>

				<div class="tabs" >
				<v-for-each source="$tabs" >

					<v-nodejs target="isactive" >
						return $.path.startsWith($match) ? "active" : ""
					</v-nodejs>

					<a href="$link" class="$isactive" >
						<i>$icon</i>
						<span>$name</span>
					</a>
				</v-for-each>
				</div>
			</nav>
		</header>

		<main class="responsive max" >
			<div class="grid" >

			<div class="s12 m3 2">
				<article>
					<v-nodejs target="open" >return $.path.startsWith("/tutorial")</v-nodejs>
					<details open="$open" >
						<summary class="none" >Tutorial</summary>

						<v-json target="tutorials" >
							[
								{ "path":"intro", "name":"Intro" },
								{ "path":"getting_started", "name":"Getting started" },
								{ "path":"variables", "name":"Variables" },
								{ "path":"logic", "name":"Logic" },
								{ "path":"pages", "name":"Pages" },
								{ "path":"forms", "name":"Forms" }
							]
						</v-json>

						<v-for-each source="$tutorials" >
							<v-if source="$.path" eq="/tutorial/$path" >
								<a class="row link-selected" href="/tutorial/$path">$name</a>
							</v-if>
							<v-unless source="$.path" eq="/tutorial/$path" >
								<a class="row" href="/tutorial/$path">$name</a>
							</v-unless>
						</v-for-each>

					</details>
				</article>

				<article>
					<v-yaml src="./reference.yaml" target="tags" />

					<v-nodejs target="open" >return $.path.startsWith("/reference")</v-nodejs>
					<details open="$open" >
						<summary class="none" >Reference</summary>
						<v-for-each source="$tags">
							<a class="row" href="/reference#$tag">$tag</a>
						</v-for-each>
					</details>
				</article>


			</div>

				<div class="s12 m9 10" style="margin: 1rem;" >

					<v-page path="/tutorial/intro" >
						<v-markdown src="./tutorial/intro.md" />
					</v-page>

					<v-page path="/tutorial/getting_started" >
						<v-markdown src="./tutorial/getting_started.md" />
					</v-page>

					<v-page path="/tutorial/variables" >
						<v-markdown src="./tutorial/variables.md" />
					</v-page>

					<v-page path="/tutorial/logic" >
						<v-markdown src="./tutorial/logic.md" />
					</v-page>

					<v-page path="/tutorial/pages" >
						<v-markdown src="./tutorial/pages.md" />
					</v-page>

					<v-page path="/tutorial/forms" >
						<v-markdown src="./tutorial/forms.md" />
					</v-page>

					<v-page path="/reference">
						<v-include src="./reference_page.html" />
					</v-page>
				</div>

			</div>

		</main>
	</body>
</html>
