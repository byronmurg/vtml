<!DOCTYPE html>
<html lang="en">
	<x-hint-port port="3001" />

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="color-scheme" content="light dark" />

		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
		/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

		<script>
			hljs.highlightAll()
		</script>

		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
		/>

		<style>
			.docs-area {
				display: grid;
				column-gap: 1rem;
				grid-template-areas: "sidebar main main outer";
			}

			.docs-sidebar {
				grid-area: "sidebar";
			}

			.docs-main {
				grid-area: "main";
			}

			.page-footer {
				display: block;
				min-height: 10rem;
			}

			.tag {
				background-color: var(--pico-primary);
				color: var(--pico-contrast-inverse);
				border-radius: 4px;
				padding: 5px 1rem 5px 1rem;
				float: right;
			}

			body {
				font-size: 80%;
			}

			aside nav a {
				padding-bottom: 0;
				padding-top: 0;
			}

		</style>
	</head>
	<body>
		<header>
			<nav style="padding-left: 1rem">
				<ul>
					<li><h4>Starling docs</h4></li>
				</ul>
			</nav>
			<hr />
		</header>

		<main class="container" >
			<x-yaml src="./reference.yaml" target="tags" />

			<div class="docs-area">
				<aside class="docs-sidebar">
					<nav>

						<h5>Tutorial</h5>
						<ul>
							<li><a href="/tutorial/intro" >Introduction</a></li>
							<li><a href="/tutorial/getting_started" >Getting started</a></li>
							<li><a href="/tutorial/variables" >Variables</a></li>
							<li><a href="/tutorial/logic" >Logic</a></li>
							<li><a href="/tutorial/pages" >Pages</a></li>
							<li><a href="/tutorial/forms" >Forms</a></li>
							<li><a href="/tutorial/cookies" >Cookies and Auth</a></li>
							<li><a href="/tutorial/hints" >Hints</a></li>
						</ul>

						<h5>Reference</h5>
						<ul>
							<x-for-each source="$tags">
								<li><a href="/reference#$tag">$tag</a></li>
							</x-for-each>
						</ul>

					</nav>
				</aside>
				<div class="docs-main">

					<x-page path="/tutorial/intro" >
						<x-markdown src="./intro.md" />
					</x-page>

					<x-page path="/tutorial/getting_started" >
						<x-markdown src="./getting_started.md" />
					</x-page>

					<x-page path="/tutorial/variables" >
						<x-markdown src="./variables.md" />
					</x-page>

					<x-page path="/tutorial/logic" >
						<x-markdown src="./logic.md" />
					</x-page>

					<x-page path="/tutorial/pages" >
						<x-markdown src="./pages.md" />
					</x-page>

					<x-page path="/tutorial/forms" >
						<x-markdown src="./forms.md" />
					</x-page>

					<x-page path="/reference">
							<x-for-each source="$tags">
								<section>
									<a id="$tag" href="#$tag"><h2>$tag</h2></a>

									<x-with source="$pre-process">
										<span class="tag">pre-process</span>
									</x-with>
									<x-with source="$form-only">
										<span class="tag">form-only</span>
									</x-with>

									<p>$description</p>

									<x-with source="$arguments">
										<table>
											<thead>
												<tr>
													<th scope="col">name</th>
													<th scope="col">default</th>
												</tr>
											</thead>
											<tbody>
												<x-for-each>
													<tr>
														<th scope="row">$name</th>
														<x-with source="$default">
															<td>$</td>
														</x-with>
														<x-unless source="$default">
															<x-if source="$optional">
																<td><i>optional</i></td>
															</x-if>
															<x-unless source="$optional">
																<td><b>required</b></td>
															</x-unless>
														</x-unless>
													</tr>
												</x-for-each>
											</tbody>
										</table>
									</x-with>

									<x-with source="$example">
										<pre class="language-html"><code>$</code></pre>
									</x-with>
								</section>
							</x-for-each>
					</x-page>
				</div>
			</div>
		</main>
		<footer class="page-footer"></footer>
	</body>
</html>
